!function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var e={};i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="./",i(i.s=46)}({11:function(t,i){function e(t,i){return Math.random()*(i-t)+t}function n(t,i,e){return Math.min(Math.max(t,i),e)}function s(t,i,e){return t<=e&&t>=i}function o(t,i){var e=s(t.x,i.x,i.x+i.w)||s(i.x,t.x,t.x+t.w),n=s(t.y,i.y,i.y+i.h)||s(i.y,t.y,t.y+t.h);return e&&n}function l(){T=document.getElementById("canvas"),q=T.getContext("2d"),a(!1),K=new Image,K.src=L,h(),window.addEventListener("resize",S),document.addEventListener("keydown",M),document.addEventListener("keyup",I)}function h(){var t=y(2,8,function(t){t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height)});H=new Image,H.src=t.toDataURL()}function a(t){this.ctx.imageSmoothingEnabled=t,this.ctx.mozImageSmoothingEnabled=t,this.ctx.oImageSmoothingEnabled=t,this.ctx.webkitImageSmoothingEnabled=t,this.ctx.msImageSmoothingEnabled=t}function u(){dirtyRects=[],$=[],W=new ut,tt=new ct,A(),E()}function A(){st=0;for(var t=0;t<55;t++){var i,e=t%11,n=Math.floor(t/11);switch(n){case 0:case 1:i=k;break;case 2:case 3:i=G;break;case 4:i=U}$.push(new rt(i,P/2-V/2+Y/2+e*Y,_/3.25-40*n)),st++}}function r(){$=[],A(),W.reset()}function c(){l(),J=[],j=[],S()}function p(t){return J[t]}function f(t){return!j[t]&&J[t]}function d(t){it&&(it=!1,et=-et,nt=25);for(var i=$.length-1;i>=0;i--){var e=$[i];if(!e.alive)return $.splice(i,1),e=null,void(--st<1&&(ot++,A()));e.stepDelay=(20*st-10*ot)/1e3,e.stepDelay<=.05&&(e.stepDelay=.05),e.update(t),e.doShoot&&(e.doShoot=!1,e.shoot())}nt=0}function w(){for(var t=W.bullets,i=0,e=t.length;i<e;i++)for(var n=t[i],s=0,l=$.length;s<l;s++){var h=$[s];o(n.bounds,h.bounds)&&(h.alive=n.alive=!1,tt.createExplosion(h.position.x,h.position.y,"white",70,5,5,3,.15,50),W.score+=25)}}function m(){for(var t=0,i=$.length;t<i;t++){var e=$[t];if(null!==e.bullet&&o(e.bullet.bounds,W.bounds)){if(0!==W.lives){e.bullet.alive=!1,tt.createExplosion(W.position.x,W.position.y,"green",100,8,8,6,.001,40),W.position.set(P/2,_-70),W.lives--;break}lt=!1}}}function v(){w(),m()}function x(t){W.handleInput(),j=J.slice(),W.update(t),d(t),v()}function y(t,i,e){var n=document.createElement("canvas");return n.width=t,n.height=i,e(n.getContext("2d")),n}function g(t,i,e,n,s){void 0!==n&&(q.fillStyle=n),void 0!==s&&(q.font=s+"px Play"),q.fillText(t,i,e)}function b(t,i,e,n,s){g(t,i-q.measureText(t).width/2,e,n,s)}function R(t,i,e,n,s,o){~~(.5+Date.now()/n)%2&&b(t,i,e,s,o)}function E(){q.fillStyle="#02ff12",q.fillRect(0,_-30,P,2),g(W.lives+" x ",10,_-7.5,"white",20),q.drawImage(K,W.clipRect.x,W.clipRect.y,W.clipRect.w,W.clipRect.h,45,_-23,.5*W.clipRect.w,.5*W.clipRect.h),g("CREDIT: ",P-115,_-7.5),b("SCORE: "+W.score,P/2,20),R("00",P-25,_-7.5,N)}function D(t){for(var i=0;i<$.length;i++){$[i].draw(t)}}function C(t){W.draw(t),D(t),tt.draw(),E()}function F(){b("Space Invaders",P/2,_/2.75,"#FFFFFF",36),R("Press enter to play!",P/2,_/2,500,"#FFFFFF",36)}function B(){var t=window.performance.now(),i=t-Z;i>100&&(i=100),f(13)&&!lt&&(u(),lt=!0),lt&&x(i/1e3),q.fillStyle="black",q.fillRect(0,0,P,_),lt?C(!1):F(),Z=t,requestAnimationFrame(B)}function S(){var t=window.innerWidth,i=window.innerHeight,e=Math.min(t/P,i/_);Q?(T.width=P*e,T.height=_*e,a(!1),q.transform(e,0,0,e,0,0)):(T.style.width=P*e+"px",T.style.height=_*e+"px")}function M(t){t.preventDefault(),J[t.keyCode]=!0}function I(t){t.preventDefault(),J[t.keyCode]=!1}!function(){var t=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e){function n(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var o=new this;t=!1;for(var l in e)o[l]="function"==typeof e[l]&&"function"==typeof s[l]&&i.test(e[l])?function(t,i){return function(){var e=this._super;this._super=s[t];var n=i.apply(this,arguments);return this._super=e,n}}(l,e[l]):e[l];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}(),function(){window.performance.now||(window.performance.now=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()})}();var Q=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),P=640,_=640,L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAEACAYAAAADRnAGAAACGUlEQVR42u3aSQ7CMBAEQIsn8P+/hiviAAK8zFIt5QbELiTHmfEYE3L9mZE9AAAAqAVwBQ8AAAD6THY5CgAAAKbfbPX3AQAAYBEEAADAuZrC6UUyfMEEAIBiAN8OePXnAQAAsLcmmKFPAQAAgHMbm+gbr3Sdo/LtcAAAANR6GywPAgBAM4D2JXAAABoBzBjA7AmlOx8AAEAzAOcDAADovTc4vQim6wUCABAYQG8QAADd4dPd2fRVYQAAANQG0B4HAABAawDnAwAA6AXgfAAAALpA2uMAAABwPgAAgPoAM9Ci/R4AAAD2dmqcEQIAIC/AiQGuAAYAAECcRS/a/cJXkUf2AAAAoBaA3iAAALrD+gIAAADY9baX/nwAAADNADwFAADo9YK0e5FMX/UFACA5QPSNEAAAAHKtCekmDAAAAADvBljtfgAAAGgMMGOrunvCy2uCAAAACFU6BwAAwF6AGQPa/XsAAADYB+B8AAAAtU+ItD4OAwAAAFVhAACaA0T7B44/BQAAANALwGMQAAAAADYO8If2+P31AgAAQN0SWbhFDwCAZlXgaO1xAAAA1FngnA8AACAeQPSNEAAAAM4CnC64AAAA4GzN4N9NSfgKEAAAAACszO26X8/X6BYAAAD0Anid8KcLAAAAAAAAAJBnwNEvAAAA9Jns1ygAAAAAAAAAAAAAAAAAAABAQ4COCENERERERERERBrnAa1sJuUVr3rsAAAAAElFTkSuQmCC",N=500,O={x:0,y:204,w:62,h:32},k=[{x:0,y:0,w:51,h:34},{x:0,y:102,w:51,h:34}],G=[{x:0,y:137,w:50,h:33},{x:0,y:170,w:50,h:34}],U=[{x:0,y:68,w:50,h:32},{x:0,y:34,w:50,h:32}],Y=40,V=11*Y,X=Class.extend({init:function(t,i){this.x=void 0===t?0:t,this.y=void 0===i?0:i},set:function(t,i){this.x=t,this.y=i}}),z=Class.extend({init:function(t,i,e,n){this.x=void 0===t?0:t,this.y=void 0===i?0:i,this.w=void 0===e?0:e,this.h=void 0===n?0:n},set:function(t,i,e,n){this.x=t,this.y=i,this.w=e,this.h=n}}),T=null,q=null,K=null,H=null,J=null,j=null,Z=0,W=null,$=[],tt=null,it=!1,et=-1,nt=0,st=0,ot=1,lt=!1,ht=Class.extend({init:function(t,i,e){this.img=t,this.position=new X(i,e),this.scale=new X(1,1),this.bounds=new z(i,e,this.img.width,this.img.height),this.doLogic=!0},update:function(t){},_updateBounds:function(){this.bounds.set(this.position.x,this.position.y,~~(.5+this.img.width*this.scale.x),~~(.5+this.img.height*this.scale.y))},_drawImage:function(){q.drawImage(this.img,this.position.x,this.position.y)},draw:function(t){this._updateBounds(),this._drawImage()}}),at=ht.extend({init:function(t,i,e,n){this._super(t,e,n),this.clipRect=i,this.bounds.set(e,n,this.clipRect.w,this.clipRect.h)},update:function(t){},_updateBounds:function(){var t=~~(.5+this.clipRect.w*this.scale.x),i=~~(.5+this.clipRect.h*this.scale.y);this.bounds.set(this.position.x-t/2,this.position.y-i/2,t,i)},_drawImage:function(){q.save(),q.transform(this.scale.x,0,0,this.scale.y,this.position.x,this.position.y),q.drawImage(this.img,this.clipRect.x,this.clipRect.y,this.clipRect.w,this.clipRect.h,~~(.5+.5*-this.clipRect.w),~~(.5+.5*-this.clipRect.h),this.clipRect.w,this.clipRect.h),q.restore()},draw:function(t){this._super(t)}}),ut=at.extend({init:function(){this._super(K,O,P/2,_-70),this.scale.set(.85,.85),this.lives=3,this.xVel=0,this.bullets=[],this.bulletDelayAccumulator=0,this.score=0},reset:function(){this.lives=3,this.score=0,this.position.set(P/2,_-70)},shoot:function(){var t=new At(this.position.x,this.position.y-this.bounds.h/2,1,1e3);this.bullets.push(t)},handleInput:function(){p(37)?this.xVel=-175:p(39)?this.xVel=175:this.xVel=0,f(88)&&this.bulletDelayAccumulator>.5&&(this.shoot(),this.bulletDelayAccumulator=0)},updateBullets:function(t){for(var i=this.bullets.length-1;i>=0;i--){var e=this.bullets[i];e.alive?e.update(t):(this.bullets.splice(i,1),e=null)}},update:function(t){this.bulletDelayAccumulator+=t,this.position.x+=this.xVel*t,this.position.x=n(this.position.x,this.bounds.w/2,P-this.bounds.w/2),this.updateBullets(t)},draw:function(t){this._super(t);for(var i=0,e=this.bullets.length;i<e;i++){var n=this.bullets[i];n.alive&&n.draw(t)}}}),At=ht.extend({init:function(t,i,e,n){this._super(H,t,i),this.direction=e,this.speed=n,this.alive=!0},update:function(t){this.position.y-=this.speed*this.direction*t,this.position.y<0&&(this.alive=!1)},draw:function(t){this._super(t)}}),rt=at.extend({init:function(t,i,e){this._super(K,t[0],i,e),this.clipRects=t,this.scale.set(.5,.5),this.alive=!0,this.onFirstState=!0,this.stepDelay=1,this.stepAccumulator=0,this.doShoot,this.bullet=null},toggleFrame:function(){this.onFirstState=!this.onFirstState,this.clipRect=this.onFirstState?this.clipRects[0]:this.clipRects[1]},shoot:function(){this.bullet=new At(this.position.x,this.position.y+this.bounds.w/2,-1,500)},update:function(t){if(this.stepAccumulator+=t,this.stepAccumulator>=this.stepDelay){this.position.x<this.bounds.w/2+20&&et<0&&(it=!0),1===et&&this.position.x>P-this.bounds.w/2-20&&(it=!0),this.position.y>P-50&&r();Math.floor(Math.random()*(this.stepDelay+1));e(0,1e3)<=5*(this.stepDelay+1)&&(this.doShoot=!0),this.position.x+=10*et,this.toggleFrame(),this.stepAccumulator=0}this.position.y+=nt,null!==this.bullet&&this.bullet.alive?this.bullet.update(t):this.bullet=null},draw:function(t){this._super(t),null!==this.bullet&&this.bullet.alive&&this.bullet.draw(t)}}),ct=Class.extend({init:function(){this.particlePool=[],this.particles=[]},draw:function(){for(var t=this.particles.length-1;t>=0;t--){var i=this.particles[t];i.moves++,i.x+=i.xunits,i.y+=i.yunits+i.gravity*i.moves,i.life--,i.life<=0?this.particlePool.length<100?this.particlePool.push(this.particles.splice(t,1)):this.particles.splice(t,1):(q.globalAlpha=i.life/i.maxLife,q.fillStyle=i.color,q.fillRect(i.x,i.y,i.width,i.height),q.globalAlpha=1)}},createExplosion:function(t,i,e,n,s,o,l,h,a){for(var u=0;u<n;u++){var A=Math.floor(360*Math.random()),r=Math.floor(Math.random()*l/2)+l,c=Math.floor(Math.random()*a)+a/2,p=A*Math.PI/180,f=Math.cos(p)*r,d=Math.sin(p)*r;if(this.particlePool.length>0){var w=this.particlePool.pop();w.x=t,w.y=i,w.xunits=f,w.yunits=d,w.life=c,w.color=e,w.width=s,w.height=o,w.gravity=h,w.moves=0,w.alpha=1,w.maxLife=c,this.particles.push(w)}else this.particles.push({x:t,y:i,xunits:f,yunits:d,life:c,color:e,width:s,height:o,gravity:h,moves:0,alpha:1,maxLife:c})}}});window.onload=function(){c(),B()}},46:function(t,i,e){t.exports=e(11)}});